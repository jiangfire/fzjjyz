# ä½¿ç”¨æ–‡æ¡£

æœ¬æ–‡æ¡£æä¾› fzjjyz çš„å®Œæ•´ä½¿ç”¨æŒ‡å—ï¼ŒåŒ…æ‹¬æ‰€æœ‰å‘½ä»¤çš„è¯¦ç»†è¯´æ˜ã€å‚æ•°è§£é‡Šå’Œå®é™…ç¤ºä¾‹ã€‚

## ğŸ“– æ¦‚è¿°

fzjjyz æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œæä¾› 8 ä¸ªæ ¸å¿ƒå‘½ä»¤ï¼š

1. **keygen** - ç”Ÿæˆå¯†é’¥å¯¹ï¼ˆKyber+ECDH+Dilithiumï¼‰
2. **encrypt** - åŠ å¯†æ–‡ä»¶ï¼ˆæ··åˆåŠ å¯† + ç­¾åï¼‰
3. **decrypt** - è§£å¯†æ–‡ä»¶ï¼ˆéªŒè¯ + æ¢å¤ï¼‰
4. **encrypt-dir** - åŠ å¯†æ–‡ä»¶å¤¹ï¼ˆæ‰“åŒ… + åŠ å¯†ï¼‰
5. **decrypt-dir** - è§£å¯†æ–‡ä»¶å¤¹ï¼ˆè§£å¯† + è§£åŒ…ï¼‰
6. **info** - æŸ¥çœ‹åŠ å¯†æ–‡ä»¶ä¿¡æ¯
7. **keymanage** - å¯†é’¥ç®¡ç†ï¼ˆå¯¼å‡º/å¯¼å…¥/éªŒè¯ï¼‰
8. **version** - ç‰ˆæœ¬ä¿¡æ¯

### å›½é™…åŒ–æ”¯æŒ

å·¥å…·æ”¯æŒå¤šè¯­è¨€ï¼ˆè‡ªåŠ¨æ£€æµ‹ `LANG` ç¯å¢ƒå˜é‡ï¼‰ï¼š
- **ç®€ä½“ä¸­æ–‡** (`zh_CN`) - é»˜è®¤
- **English** (`en_US`)

```bash
# ä½¿ç”¨ä¸­æ–‡
export LANG=zh_CN
fzjjyz encrypt --help

# ä½¿ç”¨è‹±æ–‡
export LANG=en_US
fzjjyz encrypt --help
```

### å…¨å±€æ ‡å¿—

æ‰€æœ‰å‘½ä»¤æ”¯æŒä»¥ä¸‹å…¨å±€æ ‡å¿—ï¼š

- `-v, --verbose`: å¯ç”¨è¯¦ç»†è¾“å‡ºï¼Œæ˜¾ç¤ºæ›´å¤šä¿¡æ¯
- `-f, --force`: å¼ºåˆ¶è¦†ç›–ç°æœ‰æ–‡ä»¶
- `--help`: æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

---

## ğŸ”‘ keygen - ç”Ÿæˆå¯†é’¥å¯¹

### è¯­æ³•
```bash
fzjjyz keygen -d <ç›®å½•> -n <åç§°> [flags]
```

### å‚æ•°è¯´æ˜

| å‚æ•° | ç®€å†™ | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|------|--------|------|
| `--dir` | `-d` | string | âœ… | - | å¯†é’¥ä¿å­˜ç›®å½• |
| `--name` | `-n` | string | âœ… | - | å¯†é’¥åç§° |
| `--force` | `-f` | bool | âŒ | false | è¦†ç›–ç°æœ‰æ–‡ä»¶ |

### ç”Ÿæˆçš„æ–‡ä»¶

æ‰§è¡ŒæˆåŠŸåï¼Œä¼šåœ¨æŒ‡å®šç›®å½•ç”Ÿæˆ 4 ä¸ª PEM æ–‡ä»¶ï¼š

```
{ç›®å½•}/{åç§°}_public.pem              # Kyber+ECDH å…¬é’¥
{ç›®å½•}/{åç§°}_private.pem             # Kyber+ECDH ç§é’¥ (0600æƒé™)
{ç›®å½•}/{åç§°}_dilithium_public.pem    # Dilithium å…¬é’¥
{ç›®å½•}/{åç§°}_dilithium_private.pem   # Dilithium ç§é’¥ (0600æƒé™)
```

### ä½¿ç”¨ç¤ºä¾‹

#### åŸºæœ¬ä½¿ç”¨
```bash
fzjjyz keygen -d ./keys -n mykey
```

**è¾“å‡º**:
```
[1/4] ç”Ÿæˆ Kyber768 å¯†é’¥... å®Œæˆ
[2/4] ç”Ÿæˆ ECDH X25519 å¯†é’¥... å®Œæˆ
[3/4] ç”Ÿæˆ Dilithium3 ç­¾åå¯†é’¥... å®Œæˆ
[4/4] ä¿å­˜å¯†é’¥æ–‡ä»¶... å®Œæˆ

âœ… å¯†é’¥å¯¹ç”ŸæˆæˆåŠŸï¼

ç”Ÿæˆçš„æ–‡ä»¶:
  â€¢ mykey_public.pem (å…¬é’¥)
  â€¢ mykey_private.pem (ç§é’¥ - 0600æƒé™)
  â€¢ mykey_dilithium_public.pem (ç­¾åå…¬é’¥)
  â€¢ mykey_dilithium_private.pem (ç­¾åç§é’¥ - 0600æƒé™)

âš ï¸  å®‰å…¨æç¤º:
  â€¢ è¯·å¦¥å–„ä¿ç®¡ç§é’¥æ–‡ä»¶
  â€¢ ä¸è¦å°†ç§é’¥åˆ†äº«ç»™ä»–äºº
  â€¢ å»ºè®®ä½¿ç”¨å®‰å…¨çš„å­˜å‚¨ä»‹è´¨
```

#### å¼ºåˆ¶è¦†ç›–
```bash
fzjjyz keygen -d ./keys -n mykey --force
```

#### ä¸åŒç›®å½•
```bash
# Linux/macOS
fzjjyz keygen -d ~/.secure/keys -n production

# Windows
fzjjyz keygen -d C:\Secure\Keys -n production
```

### å®‰å…¨æç¤º

âš ï¸ **é‡è¦å®‰å…¨å»ºè®®**:
- ç§é’¥æ–‡ä»¶ä¼šè‡ªåŠ¨è®¾ç½®ä¸º 0600 æƒé™ï¼ˆä»…æ‰€æœ‰è€…å¯è¯»å†™ï¼‰
- è¯·å°†å¯†é’¥å­˜å‚¨åœ¨å®‰å…¨ä½ç½®
- å®šæœŸè½®æ¢å¯†é’¥ï¼ˆå»ºè®® 3-6 ä¸ªæœˆï¼‰
- ä¸è¦å°†ç§é’¥æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ

---

## ğŸ” encrypt - åŠ å¯†æ–‡ä»¶

### è¯­æ³•
```bash
fzjjyz encrypt -i <è¾“å…¥æ–‡ä»¶> -o <è¾“å‡ºæ–‡ä»¶> -p <å…¬é’¥> -s <ç­¾åç§é’¥> [flags]
```

### å‚æ•°è¯´æ˜

| å‚æ•° | ç®€å†™ | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|------|--------|------|
| `--input` | `-i` | string | âœ… | - | è¾“å…¥æ–‡ä»¶è·¯å¾„ |
| `--output` | `-o` | string | âŒ | `{è¾“å…¥}.fzj` | è¾“å‡ºæ–‡ä»¶è·¯å¾„ |
| `--public-key` | `-p` | string | âœ… | - | Kyber+ECDH å…¬é’¥æ–‡ä»¶ |
| `--sign-key` | `-s` | string | âœ… | - | Dilithium ç­¾åç§é’¥æ–‡ä»¶ |
| `--force` | `-f` | bool | âŒ | false | è¦†ç›–è¾“å‡ºæ–‡ä»¶ |
| `--verbose` | `-v` | bool | âŒ | false | æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ |

### åŠ å¯†æµç¨‹

1. **è¯»å–è¾“å…¥æ–‡ä»¶**
2. **å¯†é’¥å°è£…**: Kyber768 + ECDH æ··åˆå¯†é’¥äº¤æ¢
3. **æ•°æ®åŠ å¯†**: AES-256-GCM è®¤è¯åŠ å¯†
4. **æ•°å­—ç­¾å**: Dilithium3 ç­¾åï¼ˆå¯é€‰ï¼‰
5. **æ„å»ºæ–‡ä»¶å¤´**: åŒ…å«å…ƒæ•°æ®å’ŒéªŒè¯ä¿¡æ¯
6. **å†™å…¥åŠ å¯†æ–‡ä»¶**

### ä½¿ç”¨ç¤ºä¾‹

#### åŸºæœ¬åŠ å¯†
```bash
fzjjyz encrypt -i secret.txt -o secret.fzj \
  -p keys/mykey_public.pem \
  -s keys/mykey_dilithium_private.pem
```

**è¾“å‡º**:
```
ğŸ“– è¯»å–è¾“å…¥æ–‡ä»¶: secret.txt (1.2 KB)
ğŸ”‘ åŠ å¯†å…¬é’¥: keys/mykey_public.pem
ğŸ“ ç­¾åç§é’¥: keys/mykey_dilithium_private.pem

[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% - åŠ å¯†å®Œæˆ

âœ… åŠ å¯†æˆåŠŸï¼
ğŸ“ è¾“å‡ºæ–‡ä»¶: secret.fzj (4.5 KB)
ğŸ“Š åŠ å¯†è€—æ—¶: 3ms
ğŸ” æ–‡ä»¶æ ¼å¼: fzjjyz v1.0
```

#### ä¸ç­¾åçš„åŠ å¯†
```bash
fzjjyz encrypt -i data.txt -o data.fzj -p keys/mykey_public.pem
```

#### å¼ºåˆ¶è¦†ç›–
```bash
fzjjyz encrypt -i secret.txt -o secret.fzj \
  -p keys/mykey_public.pem \
  -s keys/mykey_dilithium_private.pem \
  --force
```

#### è¯¦ç»†è¾“å‡º
```bash
fzjjyz encrypt -i secret.txt -o secret.fzj \
  -p keys/mykey_public.pem \
  -s keys/mykey_dilithium_private.pem \
  -v
```

**è¯¦ç»†è¾“å‡º**:
```
åŠ å¯†æ–‡ä»¶: secret.txt
  è¾“å…¥: secret.txt
  è¾“å‡º: secret.fzj
  å…¬é’¥: keys/mykey_public.pem
  ç­¾åå¯†é’¥: keys/mykey_dilithium_private.pem

[1/3] åŠ è½½å¯†é’¥... å®Œæˆ
[2/3] åŠ å¯†æ–‡ä»¶... å®Œæˆ
[3/3] éªŒè¯... å®Œæˆ

âœ… åŠ å¯†æˆåŠŸï¼

æ–‡ä»¶ä¿¡æ¯:
  åŸå§‹æ–‡ä»¶: secret.txt (1234 bytes)
  åŠ å¯†æ–‡ä»¶: secret.fzj (4576 bytes)
  å‹ç¼©ç‡: 370.8%
```

#### é»˜è®¤è¾“å‡ºæ–‡ä»¶å
```bash
# ä¸æŒ‡å®š -oï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨ input.fzj
fzjjyz encrypt -i secret.txt -p keys/public.pem -s keys/private.pem
# è¾“å‡º: secret.fzj
```

### æ€§èƒ½æç¤º

- **å¤§æ–‡ä»¶æ”¯æŒ**: å·¥å…·ä½¿ç”¨æµå¼å¤„ç†ï¼Œæ”¯æŒä»»æ„å¤§å°æ–‡ä»¶
- **å†…å­˜å ç”¨**: å†…å­˜å ç”¨ä¸æ–‡ä»¶å¤§å°æ— å…³
- **è¿›åº¦æ˜¾ç¤º**: å¤§æ–‡ä»¶ä¼šè‡ªåŠ¨æ˜¾ç¤ºè¿›åº¦æ¡
- **å¯†é’¥ç¼“å­˜**: è‡ªåŠ¨ç¼“å­˜å¯†é’¥ï¼Œåç»­æ“ä½œé€Ÿåº¦æå‡ 1000x+
- **å¹¶è¡Œä¼˜åŒ–**: å¯†é’¥ç”Ÿæˆä½¿ç”¨å¤šæ ¸ CPU å¹¶è¡Œå¤„ç†

### ç¼“å­˜æœºåˆ¶

å·¥å…·å†…ç½®æ™ºèƒ½å¯†é’¥ç¼“å­˜ç³»ç»Ÿï¼š

```bash
# ç¬¬ä¸€æ¬¡åŠ è½½å¯†é’¥ï¼ˆçº¦ 1-2msï¼‰
fzjjyz encrypt -i file.txt -o file.fzj -p pub.pem -s priv.pem

# ç¬¬äºŒæ¬¡åŠ è½½ï¼ˆ<1Î¼sï¼Œå‡ ä¹ç¬é—´ï¼‰
fzjjyz encrypt -i file2.txt -o file2.fzj -p pub.pem -s priv.pem
```

**ç¼“å­˜ç‰¹æ€§**:
- âœ… **è‡ªåŠ¨å¯ç”¨**: æ— éœ€é…ç½®
- âœ… **TTL è¿‡æœŸ**: 1 å°æ—¶åè‡ªåŠ¨å¤±æ•ˆ
- âœ… **å¤§å°é™åˆ¶**: æœ€å¤šç¼“å­˜ 100 ä¸ªå¯†é’¥
- âœ… **åå°æ¸…ç†**: æ¯ 5 åˆ†é’Ÿæ¸…ç†è¿‡æœŸæ¡ç›®
- âœ… **çº¿ç¨‹å®‰å…¨**: æ”¯æŒå¹¶å‘è®¿é—®

**ç¼“å­˜çŠ¶æ€æŸ¥çœ‹**:
```bash
# æŸ¥çœ‹ç¼“å­˜ä¿¡æ¯ï¼ˆéœ€è¦å¯ç”¨ verbose æ¨¡å¼ï¼‰
fzjjyz keymanage -a cache-info
```

---

## ğŸ”“ decrypt - è§£å¯†æ–‡ä»¶

### è¯­æ³•
```bash
fzjjyz decrypt -i <è¾“å…¥æ–‡ä»¶> -o <è¾“å‡ºæ–‡ä»¶> -p <ç§é’¥> -s <éªŒè¯å…¬é’¥> [flags]
```

### å‚æ•°è¯´æ˜

| å‚æ•° | ç®€å†™ | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|------|--------|------|
| `--input` | `-i` | string | âœ… | - | åŠ å¯†æ–‡ä»¶è·¯å¾„ |
| `--output` | `-o` | string | âŒ | åŸæ–‡ä»¶å | è¾“å‡ºæ–‡ä»¶è·¯å¾„ |
| `--private-key` | `-p` | string | âœ… | - | Kyber+ECDH ç§é’¥æ–‡ä»¶ |
| `--verify-key` | `-s` | string | âŒ | - | Dilithium éªŒè¯å…¬é’¥æ–‡ä»¶ |
| `--force` | `-f` | bool | âŒ | false | è¦†ç›–è¾“å‡ºæ–‡ä»¶ |
| `--verbose` | `-v` | bool | âŒ | false | æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ |

### è§£å¯†æµç¨‹

1. **è¯»å–åŠ å¯†æ–‡ä»¶**
2. **è§£ææ–‡ä»¶å¤´**: éªŒè¯é­”æ•°ã€ç‰ˆæœ¬ã€æ ¼å¼
3. **å¯†é’¥è§£å°è£…**: Kyber768 + ECDH å¯†é’¥æ¢å¤
4. **æ•°æ®è§£å¯†**: AES-256-GCM è§£å¯†ï¼ˆè‡ªåŠ¨éªŒè¯è®¤è¯æ ‡ç­¾ï¼‰
5. **å“ˆå¸ŒéªŒè¯**: SHA256 å®Œæ•´æ€§æ£€æŸ¥
6. **ç­¾åéªŒè¯**: Dilithium3 ç­¾åéªŒè¯ï¼ˆå¦‚æœæä¾›ï¼‰
7. **æ¢å¤æ–‡ä»¶**: ä½¿ç”¨åŸå§‹æ–‡ä»¶åæˆ–æŒ‡å®šè·¯å¾„

### ä½¿ç”¨ç¤ºä¾‹

#### å®Œæ•´è§£å¯†ï¼ˆå¸¦ç­¾åéªŒè¯ï¼‰
```bash
fzjjyz decrypt -i secret.fzj -o recovered.txt \
  -p keys/mykey_private.pem \
  -s keys/mykey_dilithium_public.pem
```

**è¾“å‡º**:
```
ğŸ“– è¯»å–åŠ å¯†æ–‡ä»¶: secret.fzj (4.5 KB)
ğŸ”‘ è§£å¯†ç§é’¥: keys/mykey_private.pem
ğŸ” éªŒè¯å…¬é’¥: keys/mykey_dilithium_public.pem

[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% - è§£å¯†å®Œæˆ

âœ… è§£å¯†æˆåŠŸï¼
ğŸ“ è¾“å‡ºæ–‡ä»¶: recovered.txt (1.2 KB)
ğŸ“Š è§£å¯†è€—æ—¶: 4ms
âœ… å“ˆå¸ŒéªŒè¯: é€šè¿‡
âœ… ç­¾åéªŒè¯: é€šè¿‡
```

#### ä¸éªŒè¯ç­¾åçš„è§£å¯†
```bash
fzjjyz decrypt -i data.fzj -o data.txt -p keys/mykey_private.pem
```

**è¾“å‡º**:
```
ğŸ“– è¯»å–åŠ å¯†æ–‡ä»¶: data.fzj (4.5 KB)
ğŸ”‘ è§£å¯†ç§é’¥: keys/mykey_private.pem
âš ï¸  è­¦å‘Š: æœªæä¾›ç­¾åéªŒè¯å¯†é’¥ï¼Œå°†è·³è¿‡ç­¾åéªŒè¯
å®Œæˆ

[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% - è§£å¯†å®Œæˆ

âœ… è§£å¯†æˆåŠŸï¼
ğŸ“ è¾“å‡ºæ–‡ä»¶: data.txt (1.2 KB)
ğŸ“Š è§£å¯†è€—æ—¶: 3ms
âœ… å“ˆå¸ŒéªŒè¯: é€šè¿‡
âš ï¸  ç­¾åéªŒè¯: è·³è¿‡
```

#### ä½¿ç”¨åŸå§‹æ–‡ä»¶å
```bash
# ä¸æŒ‡å®š -oï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨æ–‡ä»¶å¤´ä¸­çš„åŸå§‹æ–‡ä»¶å
fzjjyz decrypt -i secret.fzj -p keys/mykey_private.pem -s keys/public.pem
# è¾“å‡º: secret.txt (åŸå§‹æ–‡ä»¶å)
```

#### å¼ºåˆ¶è¦†ç›–
```bash
fzjjyz decrypt -i secret.fzj -o recovered.txt \
  -p keys/mykey_private.pem \
  -s keys/mykey_dilithium_public.pem \
  --force
```

#### è¯¦ç»†è¾“å‡º
```bash
fzjjyz decrypt -i secret.fzj -o recovered.txt \
  -p keys/mykey_private.pem \
  -s keys/mykey_dilithium_public.pem \
  -v
```

### é”™è¯¯å¤„ç†

#### å¯†é’¥ä¸åŒ¹é…
```
âŒ è§£å¯†å¤±è´¥: AES-GCM decryption failed: Authentication failed

å¯èƒ½åŸå› :
  1. å¯†é’¥ä¸åŒ¹é…ï¼ˆä½¿ç”¨äº†é”™è¯¯çš„ç§é’¥ï¼‰
  2. æ–‡ä»¶å·²æŸåæˆ–è¢«ç¯¡æ”¹
  3. æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®

å®‰å…¨æç¤º:
  - å¦‚æœæç¤ºå“ˆå¸Œä¸åŒ¹é…ï¼Œæ–‡ä»¶å¯èƒ½å·²è¢«ç¯¡æ”¹ï¼Œè¯·å‹¿ä½¿ç”¨
  - å§‹ç»ˆæä¾›ç­¾åéªŒè¯å¯†é’¥ä»¥ç¡®ä¿æ–‡ä»¶å®Œæ•´æ€§
```

#### æ–‡ä»¶æŸå
```
âŒ æ–‡ä»¶å¤´è§£æå¤±è´¥: Failed to read Kyber encapsulation: unexpected EOF

å¯èƒ½åŸå› :
  1. æ–‡ä»¶ä¼ è¾“è¿‡ç¨‹ä¸­æŸå
  2. æ–‡ä»¶è¢«æˆªæ–­
  3. ä¸æ˜¯æœ‰æ•ˆçš„ fzjjyz åŠ å¯†æ–‡ä»¶

å»ºè®®:
  - é‡æ–°ä¼ è¾“æ–‡ä»¶
  - ä½¿ç”¨ info å‘½ä»¤éªŒè¯æ–‡ä»¶æ ¼å¼
  - æ£€æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦å®Œæ•´
```

#### ç­¾åéªŒè¯å¤±è´¥
```
âŒ ç­¾åéªŒè¯å¤±è´¥: Dilithium signature verification failed

å¯èƒ½åŸå› :
  1. ä½¿ç”¨äº†é”™è¯¯çš„éªŒè¯å…¬é’¥
  2. æ–‡ä»¶è¢«ä¼ªé€ æˆ–ç¯¡æ”¹
  3. ç­¾åå¯†é’¥ä¸åŒ¹é…

å®‰å…¨è­¦å‘Š:
  âš ï¸  æ–‡ä»¶å¯èƒ½å·²è¢«ç¯¡æ”¹ï¼è¯·å‹¿ä½¿ç”¨è§£å¯†åçš„æ•°æ®
  - æ£€æŸ¥å…¬é’¥æ˜¯å¦ä¸åŠ å¯†æ—¶ä½¿ç”¨çš„ç­¾åç§é’¥åŒ¹é…
  - ç¡®è®¤æ–‡ä»¶æ¥æºå¯ä¿¡
```

#### å¯†é’¥åŠ è½½å¤±è´¥
```
âŒ åŠ è½½å…¬é’¥å¤±è´¥: open keys/public.pem: no such file or directory

æç¤º:
  1. è¯·æ£€æŸ¥å…¬é’¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®: keys/public.pem
  2. ç¡®ä¿å…¬é’¥æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼ˆPEM æ ¼å¼ï¼‰
  3. æ£€æŸ¥æ–‡ä»¶æƒé™ï¼ˆéœ€å¯è¯»ï¼‰
  4. å¦‚æœæ˜¯é¦–æ¬¡ä½¿ç”¨ï¼Œè¯·å…ˆç”Ÿæˆå¯†é’¥å¯¹: fzjjyz keygen
```

---

## ğŸ” encrypt-dir - åŠ å¯†æ–‡ä»¶å¤¹

### è¯­æ³•
```bash
fzjjyz encrypt-dir -i <è¾“å…¥ç›®å½•> -o <è¾“å‡ºæ–‡ä»¶> -p <å…¬é’¥> -s <ç­¾åç§é’¥> [flags]
```

### å‚æ•°è¯´æ˜

| å‚æ•° | ç®€å†™ | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|------|--------|------|
| `--input` | `-i` | string | âœ… | - | è¾“å…¥ç›®å½•è·¯å¾„ |
| `--output` | `-o` | string | âŒ | `{è¾“å…¥}.fzj` | è¾“å‡ºåŠ å¯†æ–‡ä»¶è·¯å¾„ |
| `--public-key` | `-p` | string | âœ… | - | Kyber+ECDH å…¬é’¥æ–‡ä»¶ |
| `--sign-key` | `-s` | string | âœ… | - | Dilithium ç­¾åç§é’¥æ–‡ä»¶ |
| `--force` | `-f` | bool | âŒ | false | è¦†ç›–è¾“å‡ºæ–‡ä»¶ |
| `--verbose` | `-v` | bool | âŒ | false | æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ |

### åŠ å¯†æµç¨‹

1. **æ‰«æç›®å½•**: é€’å½’æ‰«ææ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•
2. **æ‰“åŒ… ZIP**: å°†æ•´ä¸ªç›®å½•æ‰“åŒ…æˆ ZIP å½’æ¡£
3. **å¯†é’¥å°è£…**: Kyber768 + ECDH æ··åˆå¯†é’¥äº¤æ¢
4. **æ•°æ®åŠ å¯†**: AES-256-GCM è®¤è¯åŠ å¯†
5. **æ•°å­—ç­¾å**: Dilithium3 ç­¾åï¼ˆå¯é€‰ï¼‰
6. **å†™å…¥åŠ å¯†æ–‡ä»¶**: ä¿å­˜ä¸ºå•ä¸ª .fzj æ–‡ä»¶

### ä½¿ç”¨ç¤ºä¾‹

#### åŸºæœ¬åŠ å¯†
```bash
fzjjyz encrypt-dir -i ./my_project -o project_backup.fzj \
  -p keys/mykey_public.pem \
  -s keys/mykey_dilithium_private.pem
```

**è¾“å‡º**:
```
ğŸ“ æ‰«æç›®å½•: ./my_project
ğŸ“¦ æ‰“åŒ…æ–‡ä»¶: 15 ä¸ªæ–‡ä»¶ (æ€»è®¡ 2.3 MB)
ğŸ”‘ åŠ å¯†å…¬é’¥: keys/mykey_public.pem
ğŸ“ ç­¾åç§é’¥: keys/mykey_dilithium_private.pem

[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% - åŠ å¯†å®Œæˆ

âœ… åŠ å¯†æˆåŠŸï¼
ğŸ“ è¾“å‡ºæ–‡ä»¶: project_backup.fzj (3.1 MB)
ğŸ“Š åŠ å¯†è€—æ—¶: 120ms
ğŸ” æ–‡ä»¶æ ¼å¼: fzjjyz v1.0
```

#### è¯¦ç»†è¾“å‡º
```bash
fzjjyz encrypt-dir -i ./data -o data.fzj \
  -p keys/public.pem \
  -s keys/private.pem \
  -v
```

**è¯¦ç»†è¾“å‡º**:
```
åŠ å¯†ç›®å½•: ./data
  è¾“å…¥: ./data
  è¾“å‡º: data.fzj
  å…¬é’¥: keys/public.pem
  ç­¾åå¯†é’¥: keys/private.pem

[1/4] æ‰«æç›®å½•... å®Œæˆ (15 æ–‡ä»¶)
[2/4] æ‰“åŒ… ZIP... å®Œæˆ (2.3 MB)
[3/4] åŠ å¯†... å®Œæˆ
[4/4] éªŒè¯... å®Œæˆ

âœ… åŠ å¯†æˆåŠŸï¼

æ–‡ä»¶ä¿¡æ¯:
  åŸå§‹å¤§å°: 2.3 MB
  åŠ å¯†å¤§å°: 3.1 MB
  æ–‡ä»¶æ•°é‡: 15
```

---

## ğŸ”“ decrypt-dir - è§£å¯†æ–‡ä»¶å¤¹

### è¯­æ³•
```bash
fzjjyz decrypt-dir -i <è¾“å…¥æ–‡ä»¶> -o <è¾“å‡ºç›®å½•> -p <ç§é’¥> -s <éªŒè¯å…¬é’¥> [flags]
```

### å‚æ•°è¯´æ˜

| å‚æ•° | ç®€å†™ | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|------|--------|------|
| `--input` | `-i` | string | âœ… | - | åŠ å¯†æ–‡ä»¶è·¯å¾„ |
| `--output` | `-o` | string | âŒ | åŸç›®å½•å | è¾“å‡ºç›®å½•è·¯å¾„ |
| `--private-key` | `-p` | string | âœ… | - | Kyber+ECDH ç§é’¥æ–‡ä»¶ |
| `--verify-key` | `-s` | string | âŒ | - | Dilithium éªŒè¯å…¬é’¥æ–‡ä»¶ |
| `--force` | `-f` | bool | âŒ | false | è¦†ç›–ç°æœ‰æ–‡ä»¶ |
| `--verbose` | `-v` | bool | âŒ | false | æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ |

### è§£å¯†æµç¨‹

1. **è¯»å–åŠ å¯†æ–‡ä»¶**
2. **è§£ææ–‡ä»¶å¤´**: éªŒè¯é­”æ•°ã€ç‰ˆæœ¬ã€æ ¼å¼
3. **å¯†é’¥è§£å°è£…**: Kyber768 + ECDH å¯†é’¥æ¢å¤
4. **æ•°æ®è§£å¯†**: AES-256-GCM è§£å¯†
5. **å“ˆå¸ŒéªŒè¯**: SHA256 å®Œæ•´æ€§æ£€æŸ¥
6. **ç­¾åéªŒè¯**: Dilithium3 ç­¾åéªŒè¯ï¼ˆå¦‚æœæä¾›ï¼‰
7. **è§£å‹ ZIP**: è§£å‹åˆ°æŒ‡å®šç›®å½•
8. **æ¢å¤ç›®å½•ç»“æ„**: ä¿æŒåŸå§‹ç›®å½•å±‚çº§

### ä½¿ç”¨ç¤ºä¾‹

#### å®Œæ•´è§£å¯†
```bash
fzjjyz decrypt-dir -i project_backup.fzj -o restored_project \
  -p keys/mykey_private.pem \
  -s keys/mykey_dilithium_public.pem
```

**è¾“å‡º**:
```
ğŸ“– è¯»å–åŠ å¯†æ–‡ä»¶: project_backup.fzj (3.1 MB)
ğŸ”‘ è§£å¯†ç§é’¥: keys/mykey_private.pem
ğŸ” éªŒè¯å…¬é’¥: keys/mykey_dilithium_public.pem

[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% - è§£å¯†å®Œæˆ
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% - è§£å‹å®Œæˆ

âœ… è§£å¯†æˆåŠŸï¼
ğŸ“ è¾“å‡ºç›®å½•: restored_project
ğŸ“Š è§£å¯†è€—æ—¶: 150ms
âœ… å“ˆå¸ŒéªŒè¯: é€šè¿‡
âœ… ç­¾åéªŒè¯: é€šè¿‡
ğŸ“¦ æ–‡ä»¶æ•°é‡: 15
```

#### ä½¿ç”¨åŸå§‹ç›®å½•å
```bash
# ä¸æŒ‡å®š -oï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨åŠ å¯†æ–‡ä»¶ä¸­çš„åŸå§‹ç›®å½•å
fzjjyz decrypt-dir -i project_backup.fzj \
  -p keys/mykey_private.pem \
  -s keys/mykey_dilithium_public.pem
# è¾“å‡º: my_project (åŸå§‹ç›®å½•å)
```

#### ä¸éªŒè¯ç­¾å
```bash
fzjjyz decrypt-dir -i data.fzj -o restored \
  -p keys/mykey_private.pem
```

**è¾“å‡º**:
```
ğŸ“– è¯»å–åŠ å¯†æ–‡ä»¶: data.fzj (3.1 MB)
ğŸ”‘ è§£å¯†ç§é’¥: keys/mykey_private.pem
âš ï¸  è­¦å‘Š: æœªæä¾›ç­¾åéªŒè¯å¯†é’¥ï¼Œå°†è·³è¿‡ç­¾åéªŒè¯

[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% - è§£å¯†å®Œæˆ
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% - è§£å‹å®Œæˆ

âœ… è§£å¯†æˆåŠŸï¼
ğŸ“ è¾“å‡ºç›®å½•: restored
ğŸ“Š è§£å¯†è€—æ—¶: 145ms
âœ… å“ˆå¸ŒéªŒè¯: é€šè¿‡
âš ï¸  ç­¾åéªŒè¯: è·³è¿‡
```

### å®‰å…¨ç‰¹æ€§

#### è·¯å¾„éå†é˜²æŠ¤
å·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é˜»æ­¢æ¶æ„ ZIP æ–‡ä»¶å°è¯•é€ƒé€¸åˆ°çˆ¶ç›®å½•ï¼š

```
âŒ å®‰å…¨è­¦å‘Š: æ£€æµ‹åˆ°è·¯å¾„éå†æ”»å‡»ï¼Œå·²é˜»æ­¢
  æ¶æ„è·¯å¾„: ../../etc/passwd
  å·²è‡ªåŠ¨æ¸…ç†å¹¶æ‹’ç»è§£å‹
```

---

## â„¹ï¸ info - æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯

### è¯­æ³•
```bash
fzjjyz info -i <åŠ å¯†æ–‡ä»¶>
```

### å‚æ•°è¯´æ˜

| å‚æ•° | ç®€å†™ | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|------|------|
| `--input` | `-i` | string | âœ… | åŠ å¯†æ–‡ä»¶è·¯å¾„ |

### æ˜¾ç¤ºçš„ä¿¡æ¯

- **åŸºç¡€ä¿¡æ¯**: æ–‡ä»¶åã€å¤§å°ã€æ—¶é—´æˆ³ã€æ ¼å¼ç‰ˆæœ¬
- **ç®—æ³•ä¿¡æ¯**: å¯†é’¥å°è£…ã€æ•°æ®åŠ å¯†ã€æ•°å­—ç­¾åç®—æ³•
- **å¯†é’¥ä¿¡æ¯**: Kyber å¯†æ–‡é•¿åº¦ã€ECDH å…¬é’¥ã€IVã€ç­¾åé•¿åº¦
- **å®Œæ•´æ€§**: SHA256 å“ˆå¸Œã€ç­¾åçŠ¶æ€ã€éªŒè¯ç»“æœ

### ä½¿ç”¨ç¤ºä¾‹

#### æŸ¥çœ‹ä¿¡æ¯
```bash
fzjjyz info -i secret.fzj
```

**è¾“å‡º**:
```
ğŸ“ æ–‡ä»¶ä¿¡æ¯: secret.fzj

åŸºç¡€ä¿¡æ¯:
  æ–‡ä»¶å:        secret.fzj
  åŸå§‹å¤§å°:      1234 bytes
  åŠ å¯†å¤§å°:      4576 bytes
  å‹ç¼©ç‡:        370.8%
  æ—¶é—´æˆ³:        2025-12-21 19:33:55
  æ ¼å¼ç‰ˆæœ¬:      fzjjyz v1.0

ç®—æ³•ä¿¡æ¯:
  ç®—æ³•:          Kyber768 + ECDH + AES-256-GCM (0x02)
  ç‰ˆæœ¬:          0x0100
  é­”æ•°:          FZJ\x01

å¯†é’¥ä¿¡æ¯:
  Kyberå°è£…:     1088 bytes
  ECDHå…¬é’¥:      32 bytes
  IV/Nonce:      12 bytes
  ç­¾å:          3293 bytes

å®Œæ•´æ€§:
  SHA256å“ˆå¸Œ:    95fe0f8f44d17d26...
  ç­¾åçŠ¶æ€:      âœ… å­˜åœ¨

éªŒè¯çŠ¶æ€:
  ç­¾å:          âœ… å­˜åœ¨
  æ•°æ®å®Œæ•´æ€§:   âœ… å®Œæ•´
```

#### æŸ¥çœ‹æœªç­¾åçš„æ–‡ä»¶
```bash
fzjjyz info -i data.fzj
```

**è¾“å‡º**:
```
ğŸ“ æ–‡ä»¶ä¿¡æ¯: data.fzj

åŸºç¡€ä¿¡æ¯:
  æ–‡ä»¶å:        data.fzj
  åŸå§‹å¤§å°:      1024 bytes
  åŠ å¯†å¤§å°:      4352 bytes
  æ—¶é—´æˆ³:        2025-12-21 19:35:10

ç®—æ³•ä¿¡æ¯:
  ç®—æ³•:          Kyber768 + ECDH + AES-256-GCM (0x02)

å®Œæ•´æ€§:
  SHA256å“ˆå¸Œ:    a1b2c3d4e5f6...

éªŒè¯çŠ¶æ€:
  ç­¾å:          âŒ æœªç­¾å
  æ•°æ®å®Œæ•´æ€§:   âœ… å®Œæ•´
```

### ä¿¡æ¯ç”¨é€”

- **éªŒè¯æ–‡ä»¶**: ç¡®è®¤æ–‡ä»¶æ˜¯å¦ä¸ºæœ‰æ•ˆçš„ fzjjyz åŠ å¯†æ–‡ä»¶
- **æ£€æŸ¥å®Œæ•´æ€§**: éªŒè¯æ–‡ä»¶æœªè¢«ç¯¡æ”¹
- **è·å–å…ƒæ•°æ®**: äº†è§£åŠ å¯†å‚æ•°å’ŒåŸå§‹æ–‡ä»¶ä¿¡æ¯
- **è°ƒè¯•é—®é¢˜**: æ’æŸ¥åŠ å¯†/è§£å¯†é—®é¢˜

---

## ğŸ” keymanage - å¯†é’¥ç®¡ç†

### è¯­æ³•
```bash
fzjjyz keymanage -a <åŠ¨ä½œ> [å‚æ•°]
```

### åŠ¨ä½œç±»å‹

| åŠ¨ä½œ | è¯´æ˜ | å¿…éœ€å‚æ•° |
|------|------|----------|
| `export` | ä»ç§é’¥å¯¼å‡ºå…¬é’¥ | `-s` ç§é’¥, `-o` è¾“å‡º |
| `verify` | éªŒè¯å¯†é’¥å¯¹åŒ¹é… | `-p` å…¬é’¥, `-s` ç§é’¥ |
| `import` | å¯¼å…¥å¯†é’¥åˆ°ç›®å½• | `-p` å…¬é’¥, `-s` ç§é’¥, `-d` ç›®å½• |
| `cache-info` | æŸ¥çœ‹ç¼“å­˜ä¿¡æ¯ | æ—  |

### 1. export - å¯¼å‡ºå…¬é’¥

ä»ç§é’¥æ–‡ä»¶ä¸­æå–å¹¶å¯¼å‡ºå¯¹åº”çš„å…¬é’¥ã€‚

**è¯­æ³•**:
```bash
fzjjyz keymanage -a export -s <ç§é’¥æ–‡ä»¶> -o <è¾“å‡ºå…¬é’¥æ–‡ä»¶>
```

**ç¤ºä¾‹**:
```bash
fzjjyz keymanage -a export \
  -s keys/mykey_private.pem \
  -o keys/extracted_public.pem
```

**è¾“å‡º**:
```
å¯¼å‡ºå…¬é’¥...
âœ… å…¬é’¥å·²å¯¼å‡ºåˆ°: keys/extracted_public.pem
```

**ç”¨é€”**:
- ä»ç§é’¥å¤‡ä»½ä¸­æ¢å¤å…¬é’¥
- åˆ†äº«å…¬é’¥ç»™ä»–äºº

### 2. verify - éªŒè¯å¯†é’¥å¯¹

éªŒè¯å…¬é’¥å’Œç§é’¥æ˜¯å¦åŒ¹é…ã€‚

**è¯­æ³•**:
```bash
fzjjyz keymanage -a verify -p <å…¬é’¥æ–‡ä»¶> -s <ç§é’¥æ–‡ä»¶>
```

**ç¤ºä¾‹**:
```bash
fzjjyz keymanage -a verify \
  -p keys/mykey_public.pem \
  -s keys/mykey_private.pem
```

**è¾“å‡º** (åŒ¹é…):
```
éªŒè¯å¯†é’¥å¯¹...
âœ… å¯†é’¥å¯¹éªŒè¯é€šè¿‡
  Kyber:  âœ… åŒ¹é…
  ECDH:   âœ… åŒ¹é…
```

**è¾“å‡º** (ä¸åŒ¹é…):
```
éªŒè¯å¯†é’¥å¯¹...
âŒ å¯†é’¥å¯¹ä¸åŒ¹é…
  Kyber:  âŒ ä¸åŒ¹é…
  ECDH:   âŒ ä¸åŒ¹é…
```

**ç”¨é€”**:
- ç¡®è®¤å¯†é’¥å¯¹æ˜¯å¦æ­£ç¡®é…å¯¹
- æ£€æŸ¥å¯†é’¥æ–‡ä»¶æ˜¯å¦æŸå
- éªŒè¯å¤‡ä»½çš„å®Œæ•´æ€§

### 3. import - å¯¼å…¥å¯†é’¥

å°†å¯†é’¥æ–‡ä»¶å¯¼å…¥åˆ°æŒ‡å®šç›®å½•ï¼Œè‡ªåŠ¨å¤„ç†æƒé™ã€‚

**è¯­æ³•**:
```bash
fzjjyz keymanage -a import \
  -p <å…¬é’¥æ–‡ä»¶> \
  -s <ç§é’¥æ–‡ä»¶> \
  -d <ç›®æ ‡ç›®å½•>
```

**ç¤ºä¾‹**:
```bash
fzjjyz keymanage -a import \
  -p keys/mykey_public.pem \
  -s keys/mykey_private.pem \
  -d ./backup/keys
```

**è¾“å‡º**:
```
å¯¼å…¥å¯†é’¥...
âœ… å¯†é’¥å·²å¯¼å…¥åˆ°: ./backup/keys
  å…¬é’¥: mykey_public.pem
  ç§é’¥: mykey_private.pem
```

**ç”¨é€”**:
- å¤‡ä»½å¯†é’¥åˆ°å®‰å…¨ä½ç½®
- è¿ç§»å¯†é’¥åˆ°æ–°ç¯å¢ƒ
- æ•´ç†å¯†é’¥æ–‡ä»¶

### 4. cache-info - æŸ¥çœ‹ç¼“å­˜ä¿¡æ¯

æŸ¥çœ‹å½“å‰å¯†é’¥ç¼“å­˜çš„çŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯ã€‚

**è¯­æ³•**:
```bash
fzjjyz keymanage -a cache-info
```

**ç¤ºä¾‹**:
```
å¯†é’¥ç¼“å­˜ä¿¡æ¯:
  ç¼“å­˜æ¡ç›®: 3/100
  å‘½ä¸­ç‡: 85.7%
  æ€»åŠ è½½æ¬¡æ•°: 21
  æ€»å‘½ä¸­æ¬¡æ•°: 18
  è¿‡æœŸæ—¶é—´: 1å°æ—¶
  åå°æ¸…ç†: æ¯5åˆ†é’Ÿ

ç¼“å­˜æ¡ç›®:
  â€¢ keys/public.pem (è¿‡æœŸ: 45åˆ†é’Ÿ)
  â€¢ keys/backup.pem (è¿‡æœŸ: 52åˆ†é’Ÿ)
  â€¢ keys/production.pem (è¿‡æœŸ: 23åˆ†é’Ÿ)
```

---

## ğŸ“Š version - ç‰ˆæœ¬ä¿¡æ¯

### è¯­æ³•
```bash
fzjjyz version
```

### ç¤ºä¾‹è¾“å‡º
```
fzjjyz - åé‡å­æ–‡ä»¶åŠ å¯†å·¥å…·
ç‰ˆæœ¬: 0.1.0
åº”ç”¨åç§°: fzjjyz
æè¿°: åé‡å­æ–‡ä»¶åŠ å¯†å·¥å…· - ä½¿ç”¨ Kyber768 + ECDH + AES-256-GCM + Dilithium3
```

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¤ºä¾‹

### åœºæ™¯: å®‰å…¨æ–‡ä»¶ä¼ è¾“

#### æ­¥éª¤ 1: å‘é€æ–¹ç”Ÿæˆå¯†é’¥å¯¹
```bash
# åˆ›å»ºå·¥ä½œç›®å½•
mkdir -p ~/secure_transfer
cd ~/secure_transfer

# ç”Ÿæˆå¯†é’¥å¯¹
fzjjyz keygen -d ./keys -n sender
```

#### æ­¥éª¤ 2: å‘é€æ–¹åŠ å¯†æ–‡ä»¶
```bash
# å‡†å¤‡è¦å‘é€çš„æ–‡ä»¶
echo "æœºå¯†ä¿¡æ¯: é¡¹ç›®é¢„ç®— 100ä¸‡" > budget.txt

# åŠ å¯†ï¼ˆä½¿ç”¨æ¥æ”¶æ–¹çš„å…¬é’¥ï¼‰
# å‡è®¾æ¥æ”¶æ–¹å·²ç»æä¾›äº† public.pem
fzjjyz encrypt -i budget.txt -o budget.fzj \
  -p receiver_public.pem \
  -s keys/sender_dilithium_private.pem
```

#### æ­¥éª¤ 3: ä¼ è¾“åŠ å¯†æ–‡ä»¶
```bash
# é€šè¿‡ä»»ä½•æ¸ é“å‘é€ budget.fzj
# é‚®ä»¶ã€ç½‘ç›˜ã€å³æ—¶é€šè®¯ç­‰
```

#### æ­¥éª¤ 4: æ¥æ”¶æ–¹è§£å¯†
```bash
# æ¥æ”¶æ–¹ä½¿ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†
fzjjyz decrypt -i budget.fzj -o budget_decrypted.txt \
  -p receiver_private.pem \
  -s sender_public.pem

# æŸ¥çœ‹è§£å¯†å†…å®¹
cat budget_decrypted.txt
```

#### æ­¥éª¤ 5: éªŒè¯
```bash
# æŸ¥çœ‹åŠ å¯†æ–‡ä»¶ä¿¡æ¯
fzjjyz info -i budget.fzj

# éªŒè¯å¯†é’¥å¯¹
fzjjyz keymanage -a verify \
  -p receiver_public.pem \
  -s receiver_private.pem
```

### åœºæ™¯: å®‰å…¨å¤‡ä»½ï¼ˆç›®å½•ï¼‰

```bash
# 1. ç”Ÿæˆä¸“ç”¨å¤‡ä»½å¯†é’¥
fzjjyz keygen -d ./backup_keys -n backup_2025

# 2. åŠ å¯†æ•´ä¸ªç›®å½•
fzjjyz encrypt-dir -i /important/data -o data_backup.fzj \
  -p backup_keys/backup_2025_public.pem \
  -s backup_keys/backup_2025_dilithium_private.pem

# 3. ä¸Šä¼ åˆ°äº‘ç«¯
aws s3 cp data_backup.fzj s3://my-backup/

# 4. å®šæœŸéªŒè¯
fzjjyz info -i data_backup.fzj

# 5. æ¢å¤æ—¶è§£å¯†
fzjjyz decrypt-dir -i data_backup.fzj -o /restore/data \
  -p backup_keys/backup_2025_private.pem \
  -s backup_keys/backup_2025_dilithium_public.pem
```

### åœºæ™¯: å®‰å…¨å¤‡ä»½ï¼ˆå…ˆæ‰“åŒ…å†åŠ å¯†ï¼‰

```bash
# 1. ç”Ÿæˆä¸“ç”¨å¤‡ä»½å¯†é’¥
fzjjyz keygen -d ./backup_keys -n backup_2025

# 2. æ‰“åŒ…å¤‡ä»½æ–‡ä»¶
tar -czf data_backup.tar.gz /important/data/

# 3. åŠ å¯†å¤‡ä»½åŒ…
fzjjyz encrypt -i data_backup.tar.gz -o data_backup.tar.gz.fzj \
  -p backup_keys/backup_2025_public.pem \
  -s backup_keys/backup_2025_dilithium_private.pem

# 4. ä¸Šä¼ åˆ°äº‘ç«¯
aws s3 cp data_backup.tar.gz.fzj s3://my-backup/

# 5. å®šæœŸéªŒè¯
fzjjyz info -i data_backup.tar.gz.fzj

# 6. æ¢å¤æ—¶è§£å¯†
fzjjyz decrypt -i data_backup.tar.gz.fzj -o data_backup.tar.gz \
  -p backup_keys/backup_2025_private.pem \
  -s backup_keys/backup_2025_dilithium_public.pem
tar -xzf data_backup.tar.gz
```

---

## âš ï¸ é”™è¯¯å¤„ç†

### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

| é”™è¯¯ä¿¡æ¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|----------|------|----------|
| `file not found` | æ–‡ä»¶ä¸å­˜åœ¨ | æ£€æŸ¥æ–‡ä»¶è·¯å¾„å’Œåç§° |
| `permission denied` | æƒé™ä¸è¶³ | æ£€æŸ¥æ–‡ä»¶æƒé™ï¼Œæ·»åŠ æ‰§è¡Œæƒé™ |
| `authentication failed` | å¯†é’¥ä¸åŒ¹é… | ä½¿ç”¨æ­£ç¡®çš„å¯†é’¥å¯¹ |
| `invalid file format` | æ–‡ä»¶æŸåæˆ–ä¸æ˜¯åŠ å¯†æ–‡ä»¶ | æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§ |
| `signature verification failed` | ç­¾åéªŒè¯å¤±è´¥ | æ£€æŸ¥ç­¾åå¯†é’¥ |
| `output file exists` | è¾“å‡ºæ–‡ä»¶å·²å­˜åœ¨ | ä½¿ç”¨ `--force` æˆ–æŒ‡å®šæ–°è·¯å¾„ |

### è¯¦ç»†é”™è¯¯ä¿¡æ¯

ä½¿ç”¨ `--verbose` æ ‡å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼š

```bash
fzjjyz decrypt -i secret.fzj -o output.txt -p key.pem --verbose
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å¯†é’¥ç®¡ç†
- âœ… ä½¿ç”¨å¼ºå¯†ç ä¿æŠ¤å­˜å‚¨å¯†é’¥çš„ç›®å½•
- âœ… å®šæœŸè½®æ¢å¯†é’¥ï¼ˆ3-6ä¸ªæœˆï¼‰
- âœ… å¤‡ä»½ç§é’¥åˆ°å®‰å…¨çš„ç¦»çº¿å­˜å‚¨
- âŒ ä¸è¦é€šè¿‡ä¸å®‰å…¨æ¸ é“ä¼ è¾“ç§é’¥
- âŒ ä¸è¦å°†å¯†é’¥æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶

### 2. æ–‡ä»¶åŠ å¯†
- âœ… åŠ å¯†å‰å¤‡ä»½åŸå§‹æ–‡ä»¶
- âœ… ä½¿ç”¨ç­¾åéªŒè¯æ–‡ä»¶æ¥æº
- âœ… éªŒè¯è§£å¯†ç»“æœ
- âŒ ä¸è¦åŠ å¯†å·²æŸåçš„æ–‡ä»¶
- âŒ ä¸è¦åœ¨å¤šç”¨æˆ·ç³»ç»Ÿä¸Šå­˜å‚¨æ˜æ–‡å¯†é’¥

### 3. ç›®å½•åŠ å¯†
- âœ… åŠ å¯†å‰æ£€æŸ¥ç›®å½•å¤§å°
- âœ… ä½¿ç”¨ encrypt-dir å¤„ç†å¤šä¸ªæ–‡ä»¶
- âœ… è§£å¯†åéªŒè¯ç›®å½•ç»“æ„
- âŒ ä¸è¦åŠ å¯†åŒ…å«æ•æ„Ÿä¸´æ—¶æ–‡ä»¶çš„ç›®å½•
- âŒ ä¸è¦åŠ å¯†ç³»ç»Ÿç›®å½•

### 4. æ€§èƒ½ä¼˜åŒ–
- âœ… ä½¿ç”¨ SSD å­˜å‚¨å¤§æ–‡ä»¶
- âœ… å…³é—­ä¸å¿…è¦çš„ç¨‹åºé‡Šæ”¾å†…å­˜
- âœ… ä½¿ç”¨ 64 ä½ç³»ç»Ÿå¤„ç†å¤§æ–‡ä»¶
- âœ… å®šæœŸæ¸…ç†ä¸´æ—¶æ–‡ä»¶

### 5. å®‰å…¨è€ƒè™‘
- âœ… åœ¨å—ä¿¡ä»»çš„ç¯å¢ƒä¸­æ“ä½œ
- âœ… ä¿æŒç³»ç»Ÿå’Œä¾èµ–æ›´æ–°
- âœ… ä½¿ç”¨é˜²ç«å¢™å’Œé˜²ç—…æ¯’è½¯ä»¶
- âœ… å®šæœŸå®¡è®¡åŠ å¯†æ–‡ä»¶

---

## ğŸ”§ é«˜çº§ç”¨æ³•

### æ‰¹é‡åŠ å¯†è„šæœ¬

```bash
#!/bin/bash
# batch_encrypt.sh

KEYS_DIR="./keys"
PUBLIC_KEY="$KEYS_DIR/mykey_public.pem"
SIGN_KEY="$KEYS_DIR/mykey_dilithium_private.pem"
OUTPUT_DIR="./encrypted"

mkdir -p "$OUTPUT_DIR"

for file in sensitive/*; do
  if [ -f "$file" ]; then
    filename=$(basename "$file")
    output="$OUTPUT_DIR/${filename}.fzj"
    echo "åŠ å¯†: $filename"
    fzjjyz encrypt -i "$file" -o "$output" -p "$PUBLIC_KEY" -s "$SIGN_KEY"
  fi
done

echo "æ‰¹é‡åŠ å¯†å®Œæˆï¼"
```

### Windows PowerShell æ‰¹é‡åŠ å¯†

```powershell
# batch_encrypt.ps1
$keysDir = ".\keys"
$publicKey = "$keysDir\mykey_public.pem"
$signKey = "$keysDir\mykey_dilithium_private.pem"
$outputDir = ".\encrypted"

New-Item -ItemType Directory -Force -Path $outputDir

Get-ChildItem -Path ".\sensitive" -File | ForEach-Object {
  $inputFile = $_.FullName
  $outputFile = "$outputDir\$($_.Name).fzj"

  Write-Host "åŠ å¯†: $($_.Name)"
  fzjjyz encrypt -i $inputFile -o $outputFile -p $publicKey -s $signKey
}

Write-Host "æ‰¹é‡åŠ å¯†å®Œæˆï¼"
```

### å¯†é’¥è½®æ¢è„šæœ¬

```bash
#!/bin/bash
# rotate_keys.sh

OLD_NAME="old_key"
NEW_NAME="new_key"
KEYS_DIR="./keys"

# ç”Ÿæˆæ–°å¯†é’¥
echo "ç”Ÿæˆæ–°å¯†é’¥..."
fzjjyz keygen -d "$KEYS_DIR" -n "$NEW_NAME"

# éªŒè¯æ–°å¯†é’¥
echo "éªŒè¯æ–°å¯†é’¥..."
fzjjyz keymanage -a verify \
  -p "$KEYS_DIR/${NEW_NAME}_public.pem" \
  -s "$KEYS_DIR/${NEW_NAME}_private.pem"

# å¤‡ä»½æ—§å¯†é’¥ï¼ˆå®‰å…¨å­˜å‚¨ï¼‰
echo "å¤‡ä»½æ—§å¯†é’¥..."
mkdir -p ./key_backup
cp "$KEYS_DIR/${OLD_NAME}"* ./key_backup/

echo "å¯†é’¥è½®æ¢å®Œæˆï¼"
echo "æ–°å…¬é’¥: $KEYS_DIR/${NEW_NAME}_public.pem"
echo "è¯·æ›´æ–°æ‰€æœ‰ä½¿ç”¨æ—§å…¬é’¥çš„ç³»ç»Ÿ"
```

### ç›®å½•æ‰¹é‡åŠ å¯†è„šæœ¬

```bash
#!/bin/bash
# batch_encrypt_dir.sh

KEYS_DIR="./keys"
PUBLIC_KEY="$KEYS_DIR/mykey_public.pem"
SIGN_KEY="$KEYS_DIR/mykey_dilithium_private.pem"
BASE_DIR="./projects"

# éå†æ‰€æœ‰å­ç›®å½•
for dir in "$BASE_DIR"/*/; do
  if [ -d "$dir" ]; then
    dirname=$(basename "$dir")
    output="./encrypted/${dirname}.fzj"

    echo "åŠ å¯†ç›®å½•: $dirname"
    fzjjyz encrypt-dir -i "$dir" -o "$output" \
      -p "$PUBLIC_KEY" -s "$SIGN_KEY"
  fi
done

echo "æ‰€æœ‰ç›®å½•åŠ å¯†å®Œæˆï¼"
```

---

## ğŸ“ˆ æ€§èƒ½å‚è€ƒ

### æµ‹è¯•æ•°æ®ï¼ˆå•æ–‡ä»¶ï¼‰

| æ–‡ä»¶å¤§å° | åŠ å¯†è€—æ—¶ | è§£å¯†è€—æ—¶ | åŠ å¯†åå¤§å° |
|----------|----------|----------|------------|
| 1 KB | <1ms | <1ms | 4.5 KB |
| 100 KB | 3ms | 4ms | 400 KB |
| 1 MB | 35ms | 40ms | 984 KB |
| 10 MB | 350ms | 400ms | 9.8 MB |
| 100 MB | 3.5s | 4.0s | 98 MB |

### æµ‹è¯•æ•°æ®ï¼ˆç›®å½•åŠ å¯†ï¼‰

| ç›®å½•å¤§å° | æ–‡ä»¶æ•°é‡ | åŠ å¯†è€—æ—¶ | è§£å¯†è€—æ—¶ |
|----------|----------|----------|----------|
| 10 MB | 50 | 120ms | 150ms |
| 100 MB | 500 | 1.2s | 1.5s |
| 1 GB | 5000 | 12s | 15s |

**è¯´æ˜**:
- æ—¶é—´åŒ…æ‹¬æ‰“åŒ…ã€å¯†é’¥å°è£…ã€åŠ å¯†ã€ç­¾å
- ç›®å½•åŠ å¯†ä¼šå…ˆæ‰“åŒ…æˆ ZIPï¼Œå†åŠ å¯†
- æ€§èƒ½ä¸ CPU æ€§èƒ½å’Œç£ç›˜ I/O ç›¸å…³
- **ç¼“å­˜åŠ é€Ÿ**: åç»­æ“ä½œé€Ÿåº¦æå‡ 1000x+

### è¿è¡ŒåŸºå‡†æµ‹è¯•

```bash
# å®Œæ•´åŸºå‡†æµ‹è¯•
go test -bench=. -benchmem ./internal/crypto/

# ä»…åŠ å¯†åŸºå‡†
go test -bench=Encrypt -benchmem ./internal/crypto/

# ä»…ç¼“å­˜åŸºå‡†
go test -bench=Cache -benchmem ./internal/crypto/

# ç›®å½•æ‰“åŒ…åŸºå‡†
go test -bench=Archive -benchmem ./internal/crypto/
```

---

## ğŸ†˜ è·å–å¸®åŠ©

### å‘½ä»¤å¸®åŠ©
```bash
# æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
fzjjyz --help

# æŸ¥çœ‹ç‰¹å®šå‘½ä»¤å¸®åŠ©
fzjjyz encrypt --help
fzjjyz decrypt --help
fzjjyz encrypt-dir --help
fzjjyz decrypt-dir --help
fzjjyz keygen --help
```

### è¯¦ç»†è¾“å‡º
```bash
# ä½¿ç”¨ -v æŸ¥çœ‹è¯¦ç»†è¿‡ç¨‹
fzjjyz encrypt -i input.txt -o output.fzj -p pub.pem -s priv.pem -v
```

### é”™è¯¯è¯Šæ–­
```bash
# è¯¦ç»†é”™è¯¯ä¿¡æ¯
fzjjyz decrypt -i file.fzj -p key.pem --verbose 2>&1 | tee error.log
```

---

**ç‰ˆæœ¬**: v0.2.0
**æœ€åæ›´æ–°**: 2025-12-30
**ç»´æŠ¤è€…**: fzjjyz å¼€å‘å›¢é˜Ÿ

---

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### 2025-12-30 æ›´æ–°
#### æ–°å¢åŠŸèƒ½
- âœ… **ç›®å½•åŠ å¯†å‘½ä»¤**: `encrypt-dir` - æ”¯æŒæ•´ä¸ªç›®å½•æ‰“åŒ…åŠ å¯†
- âœ… **ç›®å½•è§£å¯†å‘½ä»¤**: `decrypt-dir` - æ”¯æŒè§£å¯†å¹¶æ¢å¤ç›®å½•ç»“æ„
- âœ… **è·¯å¾„éå†é˜²æŠ¤**: è‡ªåŠ¨æ£€æµ‹å¹¶é˜»æ­¢æ¶æ„ ZIP æ–‡ä»¶
- âœ… **ç¼“å­˜ä¿¡æ¯æŸ¥çœ‹**: `keymanage -a cache-info` æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡

#### æ”¹è¿›
- âœ… **å›½é™…åŒ–æ”¯æŒ**: å®Œæ•´çš„ä¸­è‹±æ–‡åŒè¯­æ”¯æŒ
- âœ… **æ–‡æ¡£æ›´æ–°**: æ·»åŠ ç›®å½•åŠ å¯†å®Œæ•´ç¤ºä¾‹
- âœ… **é”™è¯¯æç¤º**: æ›´å‹å¥½çš„é”™è¯¯ä¿¡æ¯å’Œè§£å†³æ–¹æ¡ˆ

### 2025-12-26 æ›´æ–°
#### æ–°å¢åŠŸèƒ½
- âœ… **æ™ºèƒ½å¯†é’¥ç¼“å­˜**: è‡ªåŠ¨ç¼“å­˜ + TTL è¿‡æœŸ + å¤§å°é™åˆ¶
- âœ… **è¯¦ç»†é”™è¯¯æç¤º**: åŒ…å«è§£å†³æ–¹æ¡ˆå’Œå®‰å…¨å»ºè®®
- âœ… **æ€§èƒ½åŸºå‡†æµ‹è¯•**: å®Œæ•´çš„æµ‹è¯•å¥—ä»¶å’Œæ€§èƒ½åˆ†æ

#### æ”¹è¿›
- âœ… **é”™è¯¯ä¿¡æ¯**: æ›´å‹å¥½çš„æç¤ºå’Œè§£å†³æ–¹æ¡ˆ
- âœ… **æ–‡æ¡£æ›´æ–°**: æ·»åŠ ç¼“å­˜æœºåˆ¶è¯´æ˜å’Œæ€§èƒ½æ•°æ®
- âœ… **ä»£ç è´¨é‡**: æ¶ˆé™¤é‡å¤ä»£ç ï¼Œæå‡å¯ç»´æŠ¤æ€§

#### æ€§èƒ½æå‡
- **ç¼“å­˜åŠ é€Ÿ**: 1000x+ åç»­åŠ è½½é€Ÿåº¦
- **å¹¶è¡Œä¼˜åŒ–**: å¤šæ ¸ CPU åˆ©ç”¨
- **åºåˆ—åŒ–ä¼˜åŒ–**: 5x å¤´éƒ¨åºåˆ—åŒ–é€Ÿåº¦
